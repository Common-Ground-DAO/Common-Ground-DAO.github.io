{% assign categories = site.data.wiki_metadata.categories %}

<div class="wiki-nav">
  <!-- Search -->
  <div class="wiki-nav-search">
    <input type="text" placeholder="Search wiki..." id="wiki-search-input">
  </div>

  <!-- Navigation Sections -->
  <nav class="wiki-nav-sections">
    <!-- Categories -->
    <div class="wiki-nav-section">
      <h2 class="wiki-nav-title">Categories</h2>
      <ul class="wiki-nav-list">
        {% for category in categories %}
        {% assign cat = category[1] %}
        <li class="wiki-nav-item {% if page.category == category[0] %}active{% endif %}">
          <a href="/wiki/categories/{{ category[0] }}" class="wiki-nav-link">
            {{ cat.name }}
            <span class="wiki-nav-count">{{ cat.entries | size }}</span>
          </a>
        </li>
        {% endfor %}
      </ul>
    </div>

    <!-- Learning Paths -->
    <div class="wiki-nav-section">
      <h2 class="wiki-nav-title">Learning Paths</h2>
      <ul class="wiki-nav-list">
        {% for path in site.data.wiki_metadata.learning_paths %}
        {% assign path_data = path[1] %}
        <li class="wiki-nav-item {% if page.learning_path == path[0] %}active{% endif %}">
          <a href="/wiki/paths/{{ path[0] }}" class="wiki-nav-link">
            {{ path_data.name }}
            <span class="wiki-nav-count">{{ path_data.sequence | size }}</span>
          </a>
        </li>
        {% endfor %}
      </ul>
    </div>
  </nav>
</div>

<script>
document.getElementById('wiki-search-input').addEventListener('input', function(e) {
  const query = e.target.value.toLowerCase();
  // Implement search functionality
  // This will be connected to a search system like Lunr.js
});
</script> 